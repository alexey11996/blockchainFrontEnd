(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ad5696a"],{"21a6":function(e,t,n){(function(n){var a,o,i;(function(n,r){o=[],a=r,i="function"===typeof a?a.apply(t,o):a,void 0===i||(e.exports=i)})(0,function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){s(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,n){var s=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):o(l.href)?a(e,t,n):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,r){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),n);else if(o(e))a(e,n,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){i(s)})}}:function(e,t,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var i="application/octet-stream"===e.type,s=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},c.readAsDataURL(e)}else{var u=r.URL||r.webkitURL,f=u.createObjectURL(e);o?o.location=f:location.href=f,o=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});r.saveAs=s.saveAs=s,e.exports=s})}).call(this,n("c8ba"))},adc1:function(e,t){e.exports={HOST:"139.59.135.176"}},b4dc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[n("FlashMessage"),n("v-layout",{attrs:{"justify-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("material-card",{attrs:{color:"green",title:"Смена пары ключей",text:"Заполните указанные поля"}},[n("v-container",{attrs:{"py-0":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("p",{staticClass:"text-info"},[e._v("Выберите файл, содержащий текущую пару ключей. Если файл валиден, то скачивание новой пары ключей начнется автоматически.")]),n("input",{attrs:{type:"file",name:"kfile",id:"kfile"},on:{change:e.updateFile}})]),n("v-flex",{attrs:{xs12:"","text-xs-right":""}})],1)],1)],1)],1)],1)],1)},o=[],i=(n("28a5"),n("bc3a")),r=n.n(i),s=n("adc1"),l=n.n(s),c=n("21a6"),u={name:"ChangeKeys",data:function(){return{privateKey:"",publicKey:""}},methods:{updateFile:function(e){var t=this;if(e.target.files[0]){var n=new FileReader,a=e.target.files[0];n.onload=function(e){t.privateKey=e.target.result.split("~12345~")[0],t.publicKey=e.target.result.split("~12345~")[1],void 0==t.publicKey||void 0==t.privateKey?(t.flashMessage.error({title:"Что-то пошло не так",message:"Выбранный файл ключей имеет некорректную структуру. Попробуйте другой"}),document.getElementById("kfile").value=""):r.a.post("http://".concat(l.a.HOST,"/myroutes/changekeys"),{privateKey:t.privateKey,publicKey:t.publicKey}).then(function(e){if(e.data.hasOwnProperty("msg"))t.flashMessage.error({title:"Что-то пошло не так",message:e.data.msg});else{var n=e.data.new_private+"~12345~"+e.data.new_public,a="key.pem",o=new Blob([n],{type:"text/plain;charset=utf-8"});Object(c["saveAs"])(o,a),document.getElementById("kfile").value="",t.flashMessage.success({title:"Смена ключей прошла успешно",message:"Скачивание файла ключей начнется в течение нескольких секунд"})}})},n.readAsText(a)}}}},f=u,d=n("2877"),p=Object(d["a"])(f,a,o,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2ad5696a.2916b721.js.map