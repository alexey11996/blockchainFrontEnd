(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-570013fe"],{"21a6":function(e,t,n){(function(n){var a,o,i;(function(n,s){o=[],a=s,i="function"===typeof a?a.apply(t,o):a,void 0===i||(e.exports=i)})(0,function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){r(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,r=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):o(l.href)?a(e,t,n):i(l,l.target="_blank")):(l.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(o(e))a(e,n,s);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){i(r)})}}:function(e,t,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var i="application/octet-stream"===e.type,r=/constructor/i.test(s.HTMLElement)||s.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&r)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},c.readAsDataURL(e)}else{var u=s.URL||s.webkitURL,f=u.createObjectURL(e);o?o.location=f:location.href=f,o=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});s.saveAs=r.saveAs=r,e.exports=r})}).call(this,n("c8ba"))},"456d":function(e,t,n){var a=n("4bf8"),o=n("0d58");n("5eda")("keys",function(){return function(e){return o(a(e))}})},"504c":function(e,t,n){var a=n("0d58"),o=n("6821"),i=n("52a7").f;e.exports=function(e){return function(t){var n,s=o(t),r=a(s),l=r.length,c=0,u=[];while(l>c)i.call(s,n=r[c++])&&u.push(e?[n,s[n]]:s[n]);return u}}},"5eda":function(e,t,n){var a=n("5ca1"),o=n("8378"),i=n("79e5");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),a(a.S+a.F*i(function(){n(1)}),"Object",s)}},6066:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[n("FlashMessage"),n("v-layout",{attrs:{"justify-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("material-card",{attrs:{color:"green",title:"Получение публичного ключа по email",text:"Заполните указанное поле"}},[e.multiplePublicKeys?n("v-data-table",{attrs:{headers:e.headers,items:e.items},scopedSlots:e._u([{key:"headerCell",fn:function(t){var a=t.header;return[n("span",{staticClass:"subheading font-weight-light text-success text--darken-3",domProps:{textContent:e._s(a.text)}})]}},{key:"items",fn:function(t){var a=t.item;return[n("td",[e._v(e._s(e.getDateFromTimestamp(a)))]),n("td",[n("v-icon",{staticClass:"pl-5",on:{click:function(t){return e.downloadKey(a)}}},[e._v("mdi-download")])],1)]}}])}):n("v-form",{on:{submit:e.formSubmit},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",{attrs:{"py-0":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("p",{staticClass:"text-info"},[e._v("Введите email, по которому будет производиться поиск публичного ключа. Если он будет найден, то его скачивание начнется автоматически.")]),n("v-text-field",{staticClass:"purple-input",attrs:{rules:e.emailRules,label:"Email Address",required:"",clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("v-flex",{attrs:{xs12:"","text-xs-right":""}},[n("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{type:"submit",disabled:0==e.valid,color:"success"}},[e._v("Узнать публичный ключ")])],1)],1)],1)],1)],1)],1)],1)],1)},o=[],i=(n("8615"),n("ac6a"),n("456d"),n("bc3a")),s=n.n(i),r=n("adc1"),l=n.n(r),c=n("21a6"),u={name:"GetMyPublic",data:function(){return{headers:[{sortable:!1,text:"Дата получения",value:"date"},{sortable:!1,text:"Скачать файл",value:"action"}],items:["Получение при регистрации"],keysArr:[],valid:!1,multiplePublicKeys:!1,email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}]}},methods:{formSubmit:function(e){var t=this;e.preventDefault(),s.a.post("http://".concat(l.a.HOST,"/myroutes/getmypublic"),{email:this.email}).then(function(e){if(e.data.hasOwnProperty("msg"))t.flashMessage.error({title:"Что-то пошло не так",message:e.data.msg});else if(e.data.hasOwnProperty("publicKey")){var n="publicKey.txt",a=new Blob([e.data.publicKey],{type:"text/plain;charset=utf-8"});Object(c["saveAs"])(a,n),t.flashMessage.success({title:"Публичный ключ обнаружен",message:"Скачивание файла с публичным ключом начнется в течение нескольких секунд"}),t.email=""}else if(e.data.hasOwnProperty("first_public_key")){console.log(e),t.keysArr[0]=e.data.first_public_key;var o=JSON.parse(e.data.new_pubs),i=Object.keys(o),s=Object.values(o);t.keysArr=t.keysArr.concat(s),t.items=t.items.concat(i),t.multiplePublicKeys=!0}})},downloadKey:function(e){var t=this.items.indexOf(e),n="publicKey.txt",a=new Blob([this.keysArr[t]],{type:"text/plain;charset=utf-8"});Object(c["saveAs"])(a,n),this.multiplePublicKeys=!1},getDateFromTimestamp:function(e){if("Получение при регистрации"==e)return e;var t=new Date(parseInt(e));return t.toLocaleString()}}},f=u,d=n("2877"),p=Object(d["a"])(f,a,o,!1,null,null,null);t["default"]=p.exports},8615:function(e,t,n){var a=n("5ca1"),o=n("504c")(!1);a(a.S,"Object",{values:function(e){return o(e)}})},adc1:function(e,t){e.exports={HOST:"139.59.135.176"}}}]);
//# sourceMappingURL=chunk-570013fe.d07d2b72.js.map