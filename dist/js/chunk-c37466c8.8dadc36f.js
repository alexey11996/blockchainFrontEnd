(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c37466c8"],{"20ee":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("FlashMessage"),a("v-layout",{attrs:{"justify-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md8:""}},[a("material-card",{attrs:{color:"green",title:"Проверка подлинности подписи",text:"Заполните указанные поля"}},[a("v-tabs",{attrs:{color:"transparent","slider-color":"green"}},[a("v-container",{staticClass:"py-0"},[a("v-tab",{attrs:{ripple:""}},[t._v("Публичный ключ")]),a("v-tab",{attrs:{ripple:""}},[t._v("Email")]),a("v-tab",{attrs:{ripple:""}},[t._v("Номер телефона")])],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-form",{on:{submit:t.formSubmitWithPublicKey}},[a("v-container",{attrs:{"py-0":""}},[a("v-layout",{attrs:{wrap:""}},[""==t.publicKey?a("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[a("p",{staticClass:"text-info"},[t._v("Выберите файл, содержащий публичный ключ")]),a("input",{attrs:{type:"file",name:"keyFile",id:"keyFile"},on:{change:t.updateKeyFile}})]):a("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[a("p",{staticClass:"text-info"},[t._v("Ваш публичный ключ найден в хранилище браузера и будет подставлен автоматически")])]),a("v-flex",{attrs:{xs12:""}},[a("p",{staticClass:"text-info"},[t._v("Выберите документ для проверки")]),a("input",{attrs:{type:"file",name:"document1",id:"document1"},on:{change:t.updateDocument1}})]),a("v-flex",{attrs:{xs12:"","text-xs-right":""}},[a("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{type:"submit",disabled:0==t.validDocFile1||0==t.validKeyFile,color:"success"}},[t._v("Проверить подпись")])],1)],1)],1)],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-form",{on:{submit:t.formSubmitWithEmail},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",{attrs:{"py-0":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[a("p",{staticClass:"text-info"},[t._v("Введите email, по которому будет производиться поиск и проверка подписи")]),a("v-text-field",{staticClass:"purple-input",attrs:{rules:t.emailRules,label:"Email Address",required:"",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:""}},[a("p",{staticClass:"text-info"},[t._v("Выберите документ для проверки")]),a("input",{attrs:{type:"file",name:"document2",id:"document2"},on:{change:t.updateDocument2}})]),a("v-flex",{attrs:{xs12:"","text-xs-right":""}},[a("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{type:"submit",disabled:0==t.validDocFile2||0==t.valid,color:"success"}},[t._v("Проверить подпись")])],1)],1)],1)],1)],1)],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-form",{on:{submit:t.formSubmitWithPhone},model:{value:t.validPhone,callback:function(e){t.validPhone=e},expression:"validPhone"}},[a("v-container",{attrs:{"py-0":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[a("p",{staticClass:"text-info"},[t._v("Введите номер телефона, по которому будет производиться поиск и проверка подписи")]),a("v-text-field",{staticClass:"purple-input",attrs:{rules:t.phoneRules,label:"Mobile Phone",required:"",clearable:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("v-flex",{attrs:{xs12:""}},[a("p",{staticClass:"text-info"},[t._v("Выберите документ для проверки")]),a("input",{attrs:{type:"file",name:"document3",id:"document3"},on:{change:t.updateDocument3}})]),a("v-flex",{attrs:{xs12:"","text-xs-right":""}},[a("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{type:"submit",disabled:0==t.validDocFile3||0==t.validPhone,color:"success"}},[t._v("Проверить подпись")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},i=[],l=(a("6762"),a("2fdb"),a("bc3a")),n=a.n(l),c=a("adc1"),o=a.n(c),r={name:"CheckSign",data:function(){return{validDocFile1:!1,validDocFile2:!1,validDocFile3:!1,validKeyFile:!1,publicKey:"",docFile1:{},docFile2:{},email:"",phone:"",valid:!1,validPhone:!1,phoneRules:[function(t){return!!t||"Phone is required"},function(t){return/^\d{11}$/.test(t)||"Phone must be 11 digits"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},mounted:function(){localStorage.publicKey&&(this.publicKey=localStorage.publicKey,this.validKeyFile=!0)},methods:{updateKeyFile:function(t){var e=this;if(t.target.files[0]){var a=new FileReader,s=t.target.files[0];a.onload=function(t){e.publicKey=t.target.result,e.publicKey.includes("-----BEGIN PUBLIC KEY-----")||(e.validKeyFile=!1,e.flashMessage.error({title:"Что-то пошло не так",message:"Выбранный файл с публичным ключом имеет некорректную структуру. Попробуйте другой"}))},a.readAsText(s),this.validKeyFile=!0}else this.validKeyFile=!1},updateDocument1:function(t){t.target.files[0]?(this.docFile1=t.target.files[0],this.validDocFile1=!0):this.validDocFile1=!1},updateDocument2:function(t){t.target.files[0]?(this.docFile2=t.target.files[0],this.validDocFile2=!0):this.validDocFile2=!1},updateDocument3:function(t){t.target.files[0]?(this.docFile3=t.target.files[0],this.validDocFile3=!0):this.validDocFile3=!1},formSubmitWithPublicKey:function(t){var e=this;t.preventDefault();var a=new FormData;a.set("publicKey",this.publicKey),a.append("document",this.docFile1),n.a.post("http://".concat(o.a.HOST,"/myroutes/checkmysignature"),a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t.data.hasOwnProperty("msg")?e.flashMessage.error({title:"Что-то пошло не так",message:t.data.msg}):1==t.data.check_status?(e.flashMessage.success({title:"Проверка завершена",message:"Обнаружена валидная подпись документа"}),document.getElementById("keyFile").value="",document.getElementById("document1").value=""):0==t.data.check_status&&(e.flashMessage.success({title:"Проверка завершена",message:"Валидная подпись документа не обнаружена"}),document.getElementById("keyFile").value="",document.getElementById("document1").value="")})},formSubmitWithEmail:function(t){var e=this;t.preventDefault();var a=new FormData;a.set("email",this.email),a.append("document",this.docFile2),n.a.post("http://".concat(o.a.HOST,"/myroutes/checksignature"),a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t.data.hasOwnProperty("msg")?e.flashMessage.error({title:"Что-то пошло не так",message:t.data.msg}):1==t.data.check_status?(e.flashMessage.success({title:"Проверка завершена",message:"Обнаружена валидная подпись документа"}),e.email="",document.getElementById("document2").value=""):0==t.data.check_status&&(e.flashMessage.success({title:"Проверка завершена",message:"Валидная подпись документа не обнаружена"}),e.email="",document.getElementById("document2").value="")})},formSubmitWithPhone:function(t){var e=this;t.preventDefault();var a=new FormData;a.set("mobilePhone",this.phone),a.append("document",this.docFile3),n.a.post("http://".concat(o.a.HOST,"/myroutes/checksignaturebyphone"),a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){t.data.hasOwnProperty("msg")?e.flashMessage.error({title:"Что-то пошло не так",message:t.data.msg}):1==t.data.check_status?(e.flashMessage.success({title:"Проверка завершена",message:"Обнаружена валидная подпись документа"}),e.email="",document.getElementById("document3").value=""):0==t.data.check_status&&(e.flashMessage.success({title:"Проверка завершена",message:"Валидная подпись документа не обнаружена"}),e.email="",document.getElementById("document3").value="")})}}},u=r,d=a("2877"),m=Object(d["a"])(u,s,i,!1,null,null,null);e["default"]=m.exports},adc1:function(t,e){t.exports={HOST:"139.59.135.176:3000"}}}]);
//# sourceMappingURL=chunk-c37466c8.8dadc36f.js.map