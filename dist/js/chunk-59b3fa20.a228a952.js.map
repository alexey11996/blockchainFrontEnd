{"version":3,"sources":["webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./src/views/Register.vue?3891","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?a0dd","webpack:///./src/views/Register.vue","webpack:///./src/views/config.js"],"names":["global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","a","b","apply","exports","undefined","module","this","autoBom","console","warn","test","type","Blob","c","d","e","XMLHttpRequest","open","responseType","onload","response","onerror","error","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","window","f","self","saveAs","HTMLAnchorElement","prototype","g","h","i","URL","webkitURL","j","createElement","name","download","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","navigator","msSaveOrOpenBlob","title","body","innerText","HTMLElement","safari","userAgent","FileReader","onloadend","result","replace","readAsDataURL","k","l","__webpack_require__","flags","RegExp","configurable","get","anObject","$flags","DESCRIPTORS","TO_STRING","$toString","define","fn","call","source","R","concat","render","_vm","_h","$createElement","_c","_self","attrs","fill-height","fluid","grid-list-xl","justify-center","wrap","xs12","md8","color","text","emailSent","_e","on","submit","formSubmit","model","value","callback","$$v","valid","expression","py-0","md4","staticClass","rules","nameRules","counter","label","required","clearable","emailRules","email","phoneRules","phone","text-xs-right","disabled","_v","id","codeRules","input","onCodeChange","enteredCode","staticRenderFns","Registervue_type_script_lang_js_","data","_this","customMessage","code","v","length","methods","_this2","axios_default","post","config_default","HOST","mobilePhone","fio","then","res","hasOwnProperty","flashMessage","message","msg","localStorage","publicKey","content","privateKey","filename","blob","Object","FileSaver_min","success","catch","err","log","_this3","preventDefault","Math","random","toString","substring","recipient","views_Registervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-59b3fa20.a228a952.js","sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('FlashMessage'),_c('v-layout',{attrs:{\"justify-center\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md8\":\"\"}},[_c('material-card',{attrs:{\"color\":\"green\",\"title\":\"Регистрация в системе\",\"text\":\"Заполните указанный поля\"}},[(!_vm.emailSent)?_c('v-form',{on:{\"submit\":_vm.formSubmit},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',{attrs:{\"py-0\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"rules\":_vm.nameRules,\"counter\":50,\"label\":\"Name\",\"required\":\"\",\"clearable\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"rules\":_vm.emailRules,\"label\":\"Email Address\",\"required\":\"\",\"clearable\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"rules\":_vm.phoneRules,\"counter\":11,\"required\":\"\",\"clearable\":\"\",\"label\":\"Mobile Phone\",\"type\":\"number\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"text-xs-right\":\"\"}},[_c('v-btn',{staticClass:\"mx-0 font-weight-light\",attrs:{\"type\":\"submit\",\"disabled\":_vm.valid == false,\"color\":\"success\"}},[_vm._v(\"Зарегистрироваться\")])],1)],1)],1)],1):_vm._e(),(_vm.emailSent)?_c('v-container',{attrs:{\"py-0\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('p',{staticClass:\"text-info\"},[_vm._v(\"На указанный почтовый ящик отправлен код подтверждения. Введите его в форму ниже.\")]),_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"id\":\"codeField\",\"rules\":_vm.codeRules,\"required\":\"\",\"clearable\":\"\",\"label\":\"Confrm Code\"},on:{\"input\":_vm.onCodeChange},model:{value:(_vm.enteredCode),callback:function ($$v) {_vm.enteredCode=$$v},expression:\"enteredCode\"}})],1)],1)],1):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fill-height fluid grid-list-xl>\n    <FlashMessage></FlashMessage>\n    <v-layout justify-center wrap>\n      <v-flex xs12 md8>\n        <material-card color=\"green\" title=\"Регистрация в системе\" text=\"Заполните указанный поля\">\n          <v-form v-if=\"!emailSent\" @submit=\"formSubmit\" v-model=\"valid\">\n            <v-container py-0>\n              <v-layout wrap>\n                <v-flex xs12 md4>\n                  <v-text-field\n                    v-model=\"name\"\n                    :rules=\"nameRules\"\n                    :counter=\"50\"\n                    label=\"Name\"\n                    required\n                    clearable\n                    class=\"purple-input\"\n                  />\n                </v-flex>\n                <v-flex xs12 md4>\n                  <v-text-field\n                    v-model=\"email\"\n                    :rules=\"emailRules\"\n                    label=\"Email Address\"\n                    required\n                    clearable\n                    class=\"purple-input\"\n                  />\n                </v-flex>\n                <v-flex xs12 md4>\n                  <v-text-field\n                    v-model=\"phone\"\n                    :rules=\"phoneRules\"\n                    :counter=\"11\"\n                    required\n                    clearable\n                    class=\"purple-input\"\n                    label=\"Mobile Phone\"\n                    type=\"number\"\n                  />\n                </v-flex>\n                <v-flex xs12 text-xs-right>\n                  <v-btn\n                    type=\"submit\"\n                    :disabled=\"valid == false\"\n                    class=\"mx-0 font-weight-light\"\n                    color=\"success\"\n                  >Зарегистрироваться</v-btn>\n                </v-flex>\n              </v-layout>\n            </v-container>\n          </v-form>\n          <v-container py-0 v-if=\"emailSent\" v-model=\"valid\">\n            <v-layout wrap>\n              <v-flex xs12>\n                <p\n                  class=\"text-info\"\n                >На указанный почтовый ящик отправлен код подтверждения. Введите его в форму ниже.</p>\n                <v-text-field\n                  id=\"codeField\"\n                  v-model=\"enteredCode\"\n                  :rules=\"codeRules\"\n                  required\n                  clearable\n                  class=\"purple-input\"\n                  label=\"Confrm Code\"\n                  v-on:input=\"onCodeChange\"\n                />\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </material-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport { saveAs } from \"file-saver\";\nimport config from \"./config\";\nimport axios from \"axios\";\nexport default {\n  name: \"Register\",\n  data() {\n    return {\n      customMessage: \"\",\n      enteredCode: \"\",\n      emailSent: false,\n      code: \"\",\n      valid: false,\n      name: \"\",\n      nameRules: [\n        v => !!v || \"Name is required\",\n        v => v.length <= 50 || \"Name must be less than 50 characters\"\n      ],\n      email: \"\",\n      emailRules: [\n        v => !!v || \"E-mail is required\",\n        v => /.+@.+/.test(v) || \"E-mail must be valid\"\n      ],\n      phone: \"\",\n      phoneRules: [\n        v => !!v || \"Phone is required\",\n        v => /^\\d{11}$/.test(v) || \"Phone must be 11 digits\"\n      ],\n      codeRules: [v => (!!v && v) === this.code || \"Wrong code\"]\n    };\n  },\n  methods: {\n    onCodeChange() {\n      if (this.code == this.enteredCode) {\n        axios\n          .post(`http://${config.HOST}/myroutes/register`, {\n            mobilePhone: this.phone,\n            email: this.email,\n            fio: this.name\n          })\n          .then(res => {\n            if (res.data.hasOwnProperty(\"msg\")) {\n              this.flashMessage.error({\n                title: \"Что-то пошло не так\",\n                message: res.data.msg\n              });\n              this.emailSent = false;\n            } else {\n              localStorage.publicKey = res.data.publicKey;\n              var content =\n                res.data.privateKey + \"~12345~\" + res.data.publicKey;\n              var filename = \"key.pem\";\n\n              var blob = new Blob([content], {\n                type: \"text/plain;charset=utf-8\"\n              });\n\n              saveAs(blob, filename);\n              this.emailSent = false;\n              this.email = \"\";\n              this.phone = \"\";\n              this.name = \"\";\n              this.flashMessage.success({\n                title: \"Регистрация прошла успешно\",\n                message:\n                  \"Скачивание файла ключей начнется в течение нескольких секунд\"\n              });\n            }\n          })\n          .catch(err => console.log(err));\n      }\n    },\n    formSubmit(e) {\n      e.preventDefault();\n      this.code = Math.random()\n        .toString(36)\n        .substring(2);\n      axios\n        .post(`http://${config.HOST}/myroutes/sendcode`, {\n          code: this.code,\n          recipient: this.email\n        })\n        .then(() => {\n          this.emailSent = true;\n        })\n        .catch(err => console.log(err));\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=454ae092&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = {\n  HOST: \"165.22.121.115\"\n};\n"],"sourceRoot":""}